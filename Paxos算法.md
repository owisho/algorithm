### 一种基于消息传递一致性算法  

### 节点通信存在两种模型：共享内存（Shared memory）和消息传递（Messages passing）    
共享内存（需要锁）    
消息传递    

### Paxos算法适用的几种情况：    
1.一台机器中多个进程/线程达成数据一致；    
2.分布式文件系统或者分布式数据库中多客户端并发读写数据；    
3.分布式存储中多个副本响应读写请求的一致性    

### 背景故事    
希腊岛屿Paxon 上的执法者（legislators，后面称为牧师priest）在议会大厅（chamber）中表决通过法律，    
并通过服务员传递纸条的方式交流信息，每个执法者会将通过的法律记录在自己的账目（ledger）上。问题在于    
执法者和服务员都不可靠，他们随时会因为各种事情离开议会大厅，并随时可能有新的执法者进入议会大厅进行    
法律表决，使用何种方式能够使得这个表决过程正常进行，且通过的法律不发生矛盾。    

### 数学基础    
Paxon中的法律都通过投票（ballots-或译为选举）完成，每次投票涉及到的一群牧师称为法定人数（quorum），    
当且仅当法定人数中所有牧师都赞成这个法案时，投票成功并通过该法律。每次投票B包含以下内容：    
B_dec 正在进行的投票    
B_qrm 法定人数的牧师集合（非空牧师集合）    
B_vot 赞成的牧师集合    
B_bal 投票编号    
投票B通过的充要条件是：B_qrm属于B_vot    
接着我们定义B为一次投票的集合，并说明投票如果满足下面三个条件，那么一致性可以得到保证。    
下面给出三个重要的定义：    
B1(B)B中每个选举都有一个独一无二的选举编号。    
B2(B)B中每两个选举至少有一个共同的牧师。    
B3(B)B中每一次选举B，如果法定人数中的牧师在之前的选举中投了赞成票（这些选举构成一个集合），    
那么本次选举B所对应的法律和上述选举集合中最近一次选举所对应的法律相一致。    
